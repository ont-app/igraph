<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>ont-app.igraph.test-support documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name"></span> <span class="project-version"></span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ont-app</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>igraph</span></div></div></li><li class="depth-3 branch"><a href="ont-app.igraph.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="ont-app.igraph.graph.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>graph</span></div></a></li><li class="depth-3 current"><a href="ont-app.igraph.test-support.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>test-support</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-cardinality-1-graph-data"><div class="inner"><span>cardinality-1-graph-data</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-cljc-format"><div class="inner"><span>cljc-format</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-cljc-LazySeq"><div class="inner"><span>cljc-LazySeq</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-do-assert-and-report.21"><div class="inner"><span>do-assert-and-report!</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-do-report.21"><div class="inner"><span>do-report!</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-eg-data"><div class="inner"><span>eg-data</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-eg-with-types-data"><div class="inner"><span>eg-with-types-data</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-other-eg-data"><div class="inner"><span>other-eg-data</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-query-for-failures"><div class="inner"><span>query-for-failures</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-report-invalid-test-graph"><div class="inner"><span>report-invalid-test-graph</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-run-standard-implementation-tests"><div class="inner"><span>run-standard-implementation-tests</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-sans-schema"><div class="inner"><span>sans-schema</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-subClassOf*"><div class="inner"><span>subClassOf*</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-test-cardinality-1"><div class="inner"><span>test-cardinality-1</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-test-readme-eg-access"><div class="inner"><span>test-readme-eg-access</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-test-readme-eg-mutation"><div class="inner"><span>test-readme-eg-mutation</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-test-readme-eg-mutation-dispatch"><div class="inner"><span>test-readme-eg-mutation-dispatch</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-test-readme-eg-mutation-fn"><div class="inner"><span>test-readme-eg-mutation-fn</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-test-readme-eg-set-operations"><div class="inner"><span>test-readme-eg-set-operations</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-test-readme-eg-traversal"><div class="inner"><span>test-readme-eg-traversal</span></div></a></li><li class="depth-1"><a href="ont-app.igraph.test-support.html#var-types-data"><div class="inner"><span>types-data</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">ont-app.igraph.test-support</h1><div class="doc"><pre class="plaintext">These are tests that should be applicable to implemenations of the IGraph protocols. Most examples are drawn from the README. After running tests, query-for-failures should be empty.
</pre></div><div class="public anchor" id="var-cardinality-1-graph-data"><h3>cardinality-1-graph-data</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Data to be loaded into the test graph for cardinality-1 examples in README
</pre></div></div><div class="public anchor" id="var-cljc-format"><h3>cljc-format</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The format function in clj(s)
</pre></div></div><div class="public anchor" id="var-cljc-LazySeq"><h3>cljc-LazySeq</h3><div class="usage"></div><div class="doc"><pre class="plaintext">LazySeq type in clj(s)
</pre></div></div><div class="public anchor" id="var-do-assert-and-report.21"><h3>do-assert-and-report!</h3><div class="usage"><code>(do-assert-and-report! report test-fn-name test-name comment observed expected)</code></div><div class="doc"><pre class="plaintext">Modifies `report` with test results of `test-name` with `comment` from comparing `observed` to `expected`. Returns @report
Where
- `report` is an atom containing the report graph
- `test-name` is a KWI naming a test
- `comment` is a string describing the test
- `observed` is some value derived when running the test
- `expected` is the expected value of running the test.
NOTE: if observed=expected, `test-name` will be of type ::Passed, else ::Failed.
</pre></div></div><div class="public anchor" id="var-do-report.21"><h3>do-report!</h3><div class="usage"><code>(do-report! report desc)</code></div><div class="doc"><pre class="plaintext">Side-effect: Modifies `report` in include `desc`. Returns @report
Where
- `report` is an atom containing the report graph
- `desc` is a normal-form description to be added to `report`</pre></div></div><div class="public anchor" id="var-eg-data"><h3>eg-data</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Initial data for the `eg` graph in the README
</pre></div></div><div class="public anchor" id="var-eg-with-types-data"><h3>eg-with-types-data</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Data to populate a test graph with the `eg-with-types` example graph in README
</pre></div></div><div class="public anchor" id="var-other-eg-data"><h3>other-eg-data</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Contents of the `other-eg` graph in the README
</pre></div></div><div class="public anchor" id="var-query-for-failures"><h3>query-for-failures</h3><div class="usage"><code>(query-for-failures report)</code></div><div class="doc"><pre class="plaintext">Returns #{`failure-binding`,...} for `report`
Where
- `failure-binding` := `m` s.t. (keys m) :~ #{:?test :?comment :?observed :?expected}
- `report` is a graph put out by one or more tests in `test-support`
- `:?test` names a test
- `:?comment` is a string
- `:?observed` is the value acquired in the test
- `:?expected` is the expected value of `:?observed`
- NOTE: a passing report should return an empty set.
</pre></div></div><div class="public anchor" id="var-report-invalid-test-graph"><h3>report-invalid-test-graph</h3><div class="usage"><code>(report-invalid-test-graph report test-graph &amp; {:keys [test-fn-var protocol content-var schema-graph]})</code></div><div class="doc"><pre class="plaintext">Returns `report`' if `test-graph` is not valid, otherwise nil.
Where
- `report` is a report graph
- `test-graph` is a graph provided for a test
- `test-fn-var` is a #'var naming the operative test
` `protocol` is the expected protocol for `test-graph`
- `content-var` is the var naming the test content, eg `#'eg-data`
- `schema-graph` (optional) is a graph initialized with any required schema, but otherwise free of content. Default is nil.
NOTE: typical pattern is (or (report-invalid-test-graph ...) (&lt;do-the-actual-tests&gt;))
</pre></div></div><div class="public anchor" id="var-run-standard-implementation-tests"><h3>run-standard-implementation-tests</h3><div class="usage"><code>(run-standard-implementation-tests report)</code></div><div class="doc"><pre class="plaintext">One-liner to test a fully-featured implemenation of all the IGraph protocols.
</pre></div></div><div class="public anchor" id="var-sans-schema"><h3>sans-schema</h3><div class="usage"><code>(sans-schema g schema-graph)</code></div><div class="doc"><pre class="plaintext">Returns a native-normal graph with the contents of `g` minus `schema-graph`
Where
- `g` is the test graph implementing IGraph and containing test content
- `schema` is a properly configured graph devoid of test content, or nil
NOTE: Some graph implementations will require that you declare a schema up-front, for example Datascript or Datomic. We'll need to extract this before we confirm that we're starting with valid test content.
</pre></div></div><div class="public anchor" id="var-subClassOf*"><h3>subClassOf*</h3><div class="usage"></div><div class="doc"><pre class="plaintext">A traversal function. Transitive closure of subClassOf
</pre></div></div><div class="public anchor" id="var-test-cardinality-1"><h3>test-cardinality-1</h3><div class="usage"><code>(test-cardinality-1 report)</code></div><div class="doc"><pre class="plaintext">Returns `report'` using a graph containing data from the README
Where
- `report` is a report graph
- `cardinality-1-graph` contains `cardinality-1-graph-data` plus maybe the contents
  of `schema-graph`
- `schema-graph` is nil, or contains initialization data required by your igraph
  implementation.
NOTE: these tests all relate to cardinality-1 behavior as documented in the README.
</pre></div></div><div class="public anchor" id="var-test-readme-eg-access"><h3>test-readme-eg-access</h3><div class="usage"><code>(test-readme-eg-access report)</code></div><div class="doc"><pre class="plaintext">Returns `report'` for `report`, given `eg-graph`, possibly informed by `readme-schema-graph`
Where
-  `report` is a native-normal IGraph recording tests and their outcomes
- `eg-graph` is a graph in the target IGraph implementation containing
  `readme-example-content`, created per the configuration of `report`
- `readme-schema-graph` (optional) is a target IGraph implementation initialized with
   whatever schema configuration is required by the target implementation.
   (Datascript for example). Default is nil.
NOTE: these tests are for the access functions defined for IGraph.
</pre></div></div><div class="public anchor" id="var-test-readme-eg-mutation"><h3>test-readme-eg-mutation</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Returns `report`', modified per tests on mutability, dispatched on the mutability attribute of the graph under examination.
</pre></div></div><div class="public anchor" id="var-test-readme-eg-mutation-dispatch"><h3>test-readme-eg-mutation-dispatch</h3><div class="usage"><code>(test-readme-eg-mutation-dispatch report)</code></div><div class="doc"><pre class="plaintext">Returns the mutability of a graph made according to the report's ::makeGraphFn
</pre></div></div><div class="public anchor" id="var-test-readme-eg-mutation-fn"><h3>test-readme-eg-mutation-fn</h3><div class="usage"><code>(test-readme-eg-mutation-fn context report)</code></div><div class="doc"><pre class="plaintext">Returns `report'`, given `eg-graph` and maybe `schema-graph` if needed, informed by `context`
Where
- `report` is a graph containing test results
- `eg-graph` contains `eg-data`, drawn from examples in the README.
- `schema-graph` is nil, or contains initialization data required by your igraph
  implementation.
- `context` := m s.t. (keys m) :~ #{:test-fn-var :protocol :add-fn :subtract-fn :assert-unique-fn}
- `test-fn-var` is a var naming the test function for the :inTest attr in the report
- `protocol` is the mutability protocol implemented in `eg-graph`
- `add-fn` is a function appropriate to `protocol` for adding to `eg-graph`
- `subtract-fn` is a function appropriate to `protocol` for removing from `eg-graph`.
- `assert-unique-fn` is a function appropriate to `protocol` for asserting a triple whose object is a singleton (should clobber any previous object).
</pre></div></div><div class="public anchor" id="var-test-readme-eg-set-operations"><h3>test-readme-eg-set-operations</h3><div class="usage"><code>(test-readme-eg-set-operations report)</code></div><div class="doc"><pre class="plaintext">Returns `report'`, given `eg-graph` based on README examples
Where
- `report` is a graph containing test results
- `eg-graph` implements IGraphSet and contains `eg-data`, drawn from examples in the README.
- `other-graph` implements IGraphSet and contains `other-eg-data`, drawn from examples in the README.
</pre></div></div><div class="public anchor" id="var-test-readme-eg-traversal"><h3>test-readme-eg-traversal</h3><div class="usage"><code>(test-readme-eg-traversal report)</code></div><div class="doc"><pre class="plaintext">Returns `report'` given `eg-with-types-graph`
where
- `report` is a native-normal graph
- `eg-with-types-graph` is an instance of the target graph initialized with `eg-data` + `eg-with-types-data`, created per the configuration of `report`.
NOTE: these tests all have to do with traversal.
</pre></div></div><div class="public anchor" id="var-types-data"><h3>types-data</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Contents of the `eg-with-types` graph from the README.
</pre></div></div></div></body></html>